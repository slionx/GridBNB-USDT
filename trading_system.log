2025-04-09 23:10:17 [root] INFO: ==================================================
2025-04-09 23:10:17 [root] INFO: 网格交易系统启动
2025-04-09 23:10:17 [root] INFO: ==================================================
2025-04-09 23:10:17 [ExchangeClient] INFO: 交易所客户端初始化完成
2025-04-09 23:10:17 [OrderTracker] INFO: 加载了 10 条历史交易记录
2025-04-09 23:10:17 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-09 23:10:17 [GridTrader] INFO: 正在加载市场数据...
2025-04-09 23:10:19 [ExchangeClient] INFO: 时间同步完成 | 时差: -3120ms
2025-04-09 23:10:35 [ExchangeClient] INFO: 市场数据加载成功 | 交易对: BNB/USDT
2025-04-09 23:10:37 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.9771706}
2025-04-09 23:10:38 [GridTrader] INFO: 总资产: 784.82 USDT | 现货: 461.60 USDT (BNB: 0.2248, USDT: 335.14) | 理财: 323.22 USDT (BNB: 0.2244, USDT: 196.98)
2025-04-09 23:10:39 [GridTrader] INFO: 从理财赎回USDT: 0.1118560959999968
2025-04-09 23:10:40 [ExchangeClient] INFO: 找到USDT活期理财产品: USDT001
2025-04-09 23:10:40 [ExchangeClient] INFO: 开始赎回: 0.11 USDT 到现货
2025-04-09 23:10:41 [ExchangeClient] INFO: 划转成功: {'redeemId': '560984314', 'success': True}
2025-04-09 23:10:41 [GridTrader] INFO: 已从理财赎回 0.11 USDT
2025-04-09 23:10:41 [GridTrader] INFO: 发现可划转BNB: 0.001585353338429546
2025-04-09 23:10:41 [GridTrader] INFO: 可划转BNB (0.0016) 低于最小申购额 0.01 BNB，跳过申购
2025-04-09 23:10:41 [GridTrader] INFO: 资金分配完成
USDT: 322.44
BNB: 0.4493
2025-04-09 23:10:41 [GridTrader] INFO: 使用预设基准价: 550.7
2025-04-09 23:10:41 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 550.7
2025-04-09 23:10:41 [root] INFO: 正在发送推送通知: 交易信号通知
2025-04-09 23:10:41 [root] INFO: 消息推送成功: 网格交易启动成功
交易对: BNB/USDT
基准价: 550.7 USDT
网格大小: 2.0%
触发阈值: 0.4% (网格大小的1/5)
2025-04-09 23:10:42 [GridTrader] INFO: 市场当前价: 562.5100 | 价差: +2.14%
2025-04-09 23:10:42 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-09 23:10:42 [ExchangeClient] INFO: 成功获取 10 条最近成交记录 for BNB/USDT
2025-04-09 23:10:42 [OrderTracker] INFO: 交易历史备份成功
2025-04-09 23:10:42 [OrderTracker] INFO: 已将 10 条交易记录保存到 d:\GridBNB-USDT\data\trade_history.json
2025-04-09 23:10:42 [GridTrader] INFO: 已使用最新的 10 条交易记录更新历史。
2025-04-09 23:10:42 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-09 23:10:42 [root] INFO: Web服务已启动:
2025-04-09 23:10:42 [root] INFO: - 本地访问: http://localhost:58181
2025-04-09 23:10:42 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-09 23:10:43 [PositionControllerS1] INFO: S1 Levels Updated: High=686.0400, Low=507.0000
2025-04-09 23:10:43 [GridTrader] INFO: 价格检查 | 当前: 562.51 | 上轨: 561.71 | 下轨: 539.69 | 基准: 550.70
2025-04-09 23:10:43 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:10:43 [GridTrader] INFO: 卖出监测 | 当前价: 562.51 | 触发价(动态): 560.25996 | 最高价: 562.51
2025-04-09 23:10:43 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.51 | 最高价: 562.51 | 动态触发价: 560.25996 | 条件满足: 否
2025-04-09 23:10:43 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:10:43 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:10:43 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:10:44 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.8671706}
2025-04-09 23:10:53 [GridTrader] INFO: 价格检查 | 当前: 562.38 | 上轨: 561.71 | 下轨: 539.69 | 基准: 550.70
2025-04-09 23:10:53 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:10:53 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.38 | 最高价: 562.51 | 动态触发价: 560.25996 | 条件满足: 否
2025-04-09 23:10:53 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:10:53 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:10:53 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:11:00 [ExchangeClient] INFO: 交易所连接已安全关闭
2025-04-09 23:11:00 [root] INFO: 交易所连接已关闭
2025-04-09 23:11:18 [root] INFO: ==================================================
2025-04-09 23:11:18 [root] INFO: 网格交易系统启动
2025-04-09 23:11:18 [root] INFO: ==================================================
2025-04-09 23:11:18 [ExchangeClient] INFO: 交易所客户端初始化完成
2025-04-09 23:11:18 [OrderTracker] INFO: 加载了 10 条历史交易记录
2025-04-09 23:11:18 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-09 23:11:18 [GridTrader] INFO: 正在加载市场数据...
2025-04-09 23:11:20 [ExchangeClient] INFO: 时间同步完成 | 时差: -3106ms
2025-04-09 23:11:29 [ExchangeClient] INFO: 市场数据加载成功 | 交易对: BNB/USDT
2025-04-09 23:11:32 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.86717564}
2025-04-09 23:11:33 [GridTrader] INFO: 总资产: 784.90 USDT | 现货: 461.75 USDT (BNB: 0.2248, USDT: 335.25) | 理财: 323.15 USDT (BNB: 0.2244, USDT: 196.87)
2025-04-09 23:11:33 [GridTrader] INFO: 从理财赎回USDT: 0.013357884672018372
2025-04-09 23:11:34 [ExchangeClient] INFO: 找到USDT活期理财产品: USDT001
2025-04-09 23:11:34 [ExchangeClient] INFO: 开始赎回: 0.01 USDT 到现货
2025-04-09 23:11:36 [ExchangeClient] INFO: 划转成功: {'redeemId': '560984775', 'success': True}
2025-04-09 23:11:36 [GridTrader] INFO: 已从理财赎回 0.01 USDT
2025-04-09 23:11:36 [GridTrader] INFO: 发现可划转BNB: 0.0016244239038282204
2025-04-09 23:11:36 [GridTrader] INFO: 可划转BNB (0.0016) 低于最小申购额 0.01 BNB，跳过申购
2025-04-09 23:11:36 [GridTrader] INFO: 资金分配完成
USDT: 322.44
BNB: 0.4493
2025-04-09 23:11:36 [GridTrader] INFO: 使用预设基准价: 550.7
2025-04-09 23:11:36 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 550.7
2025-04-09 23:11:36 [root] INFO: 正在发送推送通知: 交易信号通知
2025-04-09 23:11:36 [root] INFO: 消息推送成功: 网格交易启动成功
交易对: BNB/USDT
基准价: 550.7 USDT
网格大小: 2.0%
触发阈值: 0.4% (网格大小的1/5)
2025-04-09 23:11:37 [GridTrader] INFO: 市场当前价: 562.6600 | 价差: +2.17%
2025-04-09 23:11:37 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-09 23:11:37 [ExchangeClient] INFO: 成功获取 10 条最近成交记录 for BNB/USDT
2025-04-09 23:11:37 [OrderTracker] INFO: 交易历史备份成功
2025-04-09 23:11:37 [OrderTracker] INFO: 已将 10 条交易记录保存到 d:\GridBNB-USDT\data\trade_history.json
2025-04-09 23:11:37 [GridTrader] INFO: 已使用最新的 10 条交易记录更新历史。
2025-04-09 23:11:37 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-09 23:11:37 [root] INFO: Web服务已启动:
2025-04-09 23:11:37 [root] INFO: - 本地访问: http://localhost:58181
2025-04-09 23:11:37 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-09 23:11:38 [PositionControllerS1] INFO: S1 Levels Updated: High=686.0400, Low=507.0000
2025-04-09 23:11:39 [GridTrader] INFO: 价格检查 | 当前: 562.66 | 上轨: 561.71 | 下轨: 539.69 | 基准: 550.70
2025-04-09 23:11:39 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:11:39 [GridTrader] INFO: 卖出监测 | 当前价: 562.66 | 触发价(动态): 560.40936 | 最高价: 562.66
2025-04-09 23:11:39 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.66 | 最高价: 562.66 | 动态触发价: 560.40936 | 条件满足: 否
2025-04-09 23:11:39 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:11:39 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:11:39 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:11:40 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.85717564}
2025-04-09 23:11:49 [GridTrader] INFO: 价格检查 | 当前: 562.50 | 上轨: 561.71 | 下轨: 539.69 | 基准: 550.70
2025-04-09 23:11:49 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:11:49 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.50 | 最高价: 562.66 | 动态触发价: 560.40936 | 条件满足: 否
2025-04-09 23:11:49 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:11:49 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:11:49 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:12:06 [root] INFO: ==================================================
2025-04-09 23:12:06 [root] INFO: 网格交易系统启动
2025-04-09 23:12:06 [root] INFO: ==================================================
2025-04-09 23:12:06 [ExchangeClient] INFO: 交易所客户端初始化完成
2025-04-09 23:12:06 [OrderTracker] INFO: 加载了 10 条历史交易记录
2025-04-09 23:12:06 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-09 23:12:06 [GridTrader] INFO: 正在加载市场数据...
2025-04-09 23:12:08 [ExchangeClient] INFO: 时间同步完成 | 时差: -3070ms
2025-04-09 23:12:28 [ExchangeClient] INFO: 市场数据加载成功 | 交易对: BNB/USDT
2025-04-09 23:12:30 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.85718068}
2025-04-09 23:12:32 [GridTrader] INFO: 总资产: 784.62 USDT | 现货: 461.62 USDT (BNB: 0.2248, USDT: 335.26) | 理财: 323.00 USDT (BNB: 0.2244, USDT: 196.86)
2025-04-09 23:12:32 [GridTrader] INFO: 发现可划转USDT: 0.04048880384000597
2025-04-09 23:12:32 [GridTrader] INFO: 可划转USDT (0.04) 低于最小申购额 1.0 USDT，跳过申购
2025-04-09 23:12:32 [GridTrader] INFO: 发现可划转BNB: 0.0014522503977367762
2025-04-09 23:12:32 [GridTrader] INFO: 可划转BNB (0.0015) 低于最小申购额 0.01 BNB，跳过申购
2025-04-09 23:12:32 [GridTrader] INFO: 资金分配完成
USDT: 322.44
BNB: 0.4493
2025-04-09 23:12:32 [GridTrader] INFO: 使用预设基准价: 540.7
2025-04-09 23:12:32 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 540.7
2025-04-09 23:12:32 [root] INFO: 正在发送推送通知: 交易信号通知
2025-04-09 23:12:32 [root] INFO: 消息推送成功: 网格交易启动成功
交易对: BNB/USDT
基准价: 540.7 USDT
网格大小: 2.0%
触发阈值: 0.4% (网格大小的1/5)
2025-04-09 23:12:33 [GridTrader] INFO: 市场当前价: 561.9100 | 价差: +3.92%
2025-04-09 23:12:33 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-09 23:12:33 [ExchangeClient] INFO: 成功获取 10 条最近成交记录 for BNB/USDT
2025-04-09 23:12:33 [OrderTracker] INFO: 交易历史备份成功
2025-04-09 23:12:33 [OrderTracker] INFO: 已将 10 条交易记录保存到 d:\GridBNB-USDT\data\trade_history.json
2025-04-09 23:12:33 [GridTrader] INFO: 已使用最新的 10 条交易记录更新历史。
2025-04-09 23:12:33 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-09 23:12:33 [root] INFO: Web服务已启动:
2025-04-09 23:12:33 [root] INFO: - 本地访问: http://localhost:58181
2025-04-09 23:12:33 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-09 23:12:34 [PositionControllerS1] INFO: S1 Levels Updated: High=686.0400, Low=507.0000
2025-04-09 23:12:34 [GridTrader] INFO: 价格检查 | 当前: 561.98 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:12:34 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:12:34 [GridTrader] INFO: 卖出监测 | 当前价: 561.98 | 触发价(动态): 559.73208 | 最高价: 561.98
2025-04-09 23:12:34 [GridTrader] INFO: 卖出条件检查 | 当前价: 561.98 | 最高价: 561.98 | 动态触发价: 559.73208 | 条件满足: 否
2025-04-09 23:12:34 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:12:34 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:12:34 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:12:41 [GridTrader] INFO: 价格检查 | 当前: 562.12 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:12:41 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:12:41 [GridTrader] INFO: 卖出监测 | 当前价: 562.12 | 触发价(动态): 559.87152 | 最高价: 562.12
2025-04-09 23:12:41 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.12 | 最高价: 562.12 | 动态触发价: 559.87152 | 条件满足: 否
2025-04-09 23:12:41 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:12:41 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:12:41 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:12:48 [GridTrader] INFO: 价格检查 | 当前: 562.20 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:12:48 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:12:48 [GridTrader] INFO: 卖出监测 | 当前价: 562.20 | 触发价(动态): 559.95120 | 最高价: 562.20
2025-04-09 23:12:48 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.20 | 最高价: 562.20 | 动态触发价: 559.95120 | 条件满足: 否
2025-04-09 23:12:48 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:12:48 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:12:48 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:12:55 [GridTrader] INFO: 价格检查 | 当前: 562.24 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:12:55 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:12:55 [GridTrader] INFO: 卖出监测 | 当前价: 562.24 | 触发价(动态): 559.99104 | 最高价: 562.24
2025-04-09 23:12:55 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.24 | 最高价: 562.24 | 动态触发价: 559.99104 | 条件满足: 否
2025-04-09 23:12:55 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:12:55 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:12:55 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:13:02 [GridTrader] INFO: 价格检查 | 当前: 562.24 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:13:02 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:13:02 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.24 | 最高价: 562.24 | 动态触发价: 559.99104 | 条件满足: 否
2025-04-09 23:13:02 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:13:02 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:13:02 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:13:27 [root] INFO: ==================================================
2025-04-09 23:13:27 [root] INFO: 网格交易系统启动
2025-04-09 23:13:27 [root] INFO: ==================================================
2025-04-09 23:13:27 [ExchangeClient] INFO: 交易所客户端初始化完成
2025-04-09 23:13:27 [OrderTracker] INFO: 加载了 10 条历史交易记录
2025-04-09 23:13:27 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-09 23:13:27 [GridTrader] INFO: 正在加载市场数据...
2025-04-09 23:13:32 [ExchangeClient] INFO: 时间同步完成 | 时差: -3091ms
2025-04-09 23:13:40 [ExchangeClient] INFO: 市场数据加载成功 | 交易对: BNB/USDT
2025-04-09 23:13:43 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.85718572}
2025-04-09 23:13:44 [GridTrader] INFO: 总资产: 784.53 USDT | 现货: 461.57 USDT (BNB: 0.2248, USDT: 335.26) | 理财: 322.95 USDT (BNB: 0.2244, USDT: 196.86)
2025-04-09 23:13:44 [GridTrader] INFO: 发现可划转USDT: 0.05558303667199027
2025-04-09 23:13:44 [GridTrader] INFO: 可划转USDT (0.06) 低于最小申购额 1.0 USDT，跳过申购
2025-04-09 23:13:44 [GridTrader] INFO: 发现可划转BNB: 0.0013956254200135354
2025-04-09 23:13:44 [GridTrader] INFO: 可划转BNB (0.0014) 低于最小申购额 0.01 BNB，跳过申购
2025-04-09 23:13:44 [GridTrader] INFO: 资金分配完成
USDT: 322.44
BNB: 0.4493
2025-04-09 23:13:44 [GridTrader] INFO: 使用预设基准价: 540.7
2025-04-09 23:13:44 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 540.7
2025-04-09 23:13:44 [root] INFO: 正在发送推送通知: 交易信号通知
2025-04-09 23:13:44 [root] INFO: 消息推送成功: 网格交易启动成功
交易对: BNB/USDT
基准价: 540.7 USDT
网格大小: 2.0%
触发阈值: 0.4% (网格大小的1/5)
2025-04-09 23:13:45 [GridTrader] INFO: 市场当前价: 561.8100 | 价差: +3.90%
2025-04-09 23:13:45 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-09 23:13:46 [ExchangeClient] INFO: 成功获取 10 条最近成交记录 for BNB/USDT
2025-04-09 23:13:46 [OrderTracker] INFO: 交易历史备份成功
2025-04-09 23:13:46 [OrderTracker] INFO: 已将 10 条交易记录保存到 d:\GridBNB-USDT\data\trade_history.json
2025-04-09 23:13:46 [GridTrader] INFO: 已使用最新的 10 条交易记录更新历史。
2025-04-09 23:13:46 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-09 23:13:46 [root] INFO: Web服务已启动:
2025-04-09 23:13:46 [root] INFO: - 本地访问: http://localhost:58181
2025-04-09 23:13:46 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-09 23:13:47 [PositionControllerS1] INFO: S1 Levels Updated: High=686.0400, Low=507.0000
2025-04-09 23:13:47 [GridTrader] INFO: 价格检查 | 当前: 561.78 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:13:47 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:13:47 [GridTrader] INFO: 卖出监测 | 当前价: 561.78 | 触发价(动态): 559.53288 | 最高价: 561.78
2025-04-09 23:13:47 [GridTrader] INFO: 卖出条件检查 | 当前价: 561.78 | 最高价: 561.78 | 动态触发价: 559.53288 | 条件满足: 否
2025-04-09 23:13:47 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:13:47 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:13:47 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:13:56 [GridTrader] INFO: 价格检查 | 当前: 561.60 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:13:56 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:13:56 [GridTrader] INFO: 卖出条件检查 | 当前价: 561.60 | 最高价: 561.78 | 动态触发价: 559.53288 | 条件满足: 否
2025-04-09 23:13:56 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:13:56 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:13:56 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:14:04 [GridTrader] INFO: 价格检查 | 当前: 561.97 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:14:04 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:14:04 [GridTrader] INFO: 卖出监测 | 当前价: 561.97 | 触发价(动态): 559.72212 | 最高价: 561.97
2025-04-09 23:14:04 [GridTrader] INFO: 卖出条件检查 | 当前价: 561.97 | 最高价: 561.97 | 动态触发价: 559.72212 | 条件满足: 否
2025-04-09 23:14:04 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:14:04 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:14:04 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:14:11 [GridTrader] INFO: 价格检查 | 当前: 562.10 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:14:11 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:14:11 [GridTrader] INFO: 卖出监测 | 当前价: 562.10 | 触发价(动态): 559.85160 | 最高价: 562.10
2025-04-09 23:14:11 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.10 | 最高价: 562.10 | 动态触发价: 559.85160 | 条件满足: 否
2025-04-09 23:14:11 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:14:11 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:14:11 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:14:20 [GridTrader] INFO: 价格检查 | 当前: 562.45 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:14:20 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:14:20 [GridTrader] INFO: 卖出监测 | 当前价: 562.45 | 触发价(动态): 560.20020 | 最高价: 562.45
2025-04-09 23:14:20 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.45 | 最高价: 562.45 | 动态触发价: 560.20020 | 条件满足: 否
2025-04-09 23:14:20 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:14:20 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:14:20 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:14:28 [GridTrader] INFO: 价格检查 | 当前: 562.44 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:14:28 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:14:28 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.44 | 最高价: 562.45 | 动态触发价: 560.20020 | 条件满足: 否
2025-04-09 23:14:28 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:14:28 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:14:28 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:14:35 [GridTrader] INFO: 价格检查 | 当前: 562.43 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:14:35 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:14:35 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.43 | 最高价: 562.45 | 动态触发价: 560.20020 | 条件满足: 否
2025-04-09 23:14:35 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:14:35 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:14:35 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:14:42 [GridTrader] INFO: 价格检查 | 当前: 562.41 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:14:42 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:14:42 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.41 | 最高价: 562.45 | 动态触发价: 560.20020 | 条件满足: 否
2025-04-09 23:14:42 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:14:42 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:14:42 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:14:53 [GridTrader] INFO: 价格检查 | 当前: 562.37 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:14:53 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:14:53 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.37 | 最高价: 562.45 | 动态触发价: 560.20020 | 条件满足: 否
2025-04-09 23:14:53 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:14:53 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:14:53 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:15:00 [GridTrader] INFO: 价格检查 | 当前: 562.36 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:15:00 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:15:00 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.36 | 最高价: 562.45 | 动态触发价: 560.20020 | 条件满足: 否
2025-04-09 23:15:00 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:15:00 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:15:00 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:15:07 [GridTrader] INFO: 价格检查 | 当前: 562.77 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:15:07 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:15:07 [GridTrader] INFO: 卖出监测 | 当前价: 562.77 | 触发价(动态): 560.51892 | 最高价: 562.77
2025-04-09 23:15:07 [GridTrader] INFO: 卖出条件检查 | 当前价: 562.77 | 最高价: 562.77 | 动态触发价: 560.51892 | 条件满足: 否
2025-04-09 23:15:07 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:15:07 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:15:07 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:15:14 [ExchangeClient] INFO: 交易所连接已安全关闭
2025-04-09 23:15:14 [root] INFO: 交易所连接已关闭
2025-04-09 23:15:46 [root] INFO: ==================================================
2025-04-09 23:15:46 [root] INFO: 网格交易系统启动
2025-04-09 23:15:46 [root] INFO: ==================================================
2025-04-09 23:15:47 [ExchangeClient] INFO: 交易所客户端初始化完成
2025-04-09 23:15:47 [OrderTracker] INFO: 加载了 10 条历史交易记录
2025-04-09 23:15:47 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-09 23:15:47 [GridTrader] INFO: 正在加载市场数据...
2025-04-09 23:15:49 [ExchangeClient] INFO: 时间同步完成 | 时差: -3063ms
2025-04-09 23:15:55 [ExchangeClient] INFO: 市场数据加载成功 | 交易对: BNB/USDT
2025-04-09 23:15:58 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.85719579}
2025-04-09 23:15:59 [GridTrader] INFO: 总资产: 785.13 USDT | 现货: 461.88 USDT (BNB: 0.2248, USDT: 335.26) | 理财: 323.26 USDT (BNB: 0.2244, USDT: 196.86)
2025-04-09 23:16:00 [GridTrader] INFO: 从理财赎回USDT: 0.04145811244799802
2025-04-09 23:16:00 [ExchangeClient] INFO: 找到USDT活期理财产品: USDT001
2025-04-09 23:16:00 [ExchangeClient] INFO: 开始赎回: 0.04 USDT 到现货
2025-04-09 23:16:02 [ExchangeClient] INFO: 划转成功: {'redeemId': '560987100', 'success': True}
2025-04-09 23:16:02 [GridTrader] INFO: 已从理财赎回 0.04 USDT
2025-04-09 23:16:02 [GridTrader] INFO: 发现可划转BNB: 0.001770776021931847
2025-04-09 23:16:02 [GridTrader] INFO: 可划转BNB (0.0018) 低于最小申购额 0.01 BNB，跳过申购
2025-04-09 23:16:02 [GridTrader] INFO: 资金分配完成
USDT: 322.44
BNB: 0.4493
2025-04-09 23:16:02 [GridTrader] INFO: 使用预设基准价: 540.7
2025-04-09 23:16:02 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 540.7
2025-04-09 23:16:02 [root] INFO: 正在发送推送通知: 交易信号通知
2025-04-09 23:16:02 [root] INFO: 消息推送成功: 网格交易启动成功
交易对: BNB/USDT
基准价: 540.7 USDT
网格大小: 2.0%
触发阈值: 0.02% (网格大小的1/5)
2025-04-09 23:16:03 [GridTrader] INFO: 市场当前价: 563.3200 | 价差: +4.18%
2025-04-09 23:16:03 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-09 23:16:03 [ExchangeClient] INFO: 成功获取 10 条最近成交记录 for BNB/USDT
2025-04-09 23:16:03 [OrderTracker] INFO: 交易历史备份成功
2025-04-09 23:16:03 [OrderTracker] INFO: 已将 10 条交易记录保存到 d:\GridBNB-USDT\data\trade_history.json
2025-04-09 23:16:03 [GridTrader] INFO: 已使用最新的 10 条交易记录更新历史。
2025-04-09 23:16:03 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-09 23:16:03 [root] INFO: Web服务已启动:
2025-04-09 23:16:03 [root] INFO: - 本地访问: http://localhost:58181
2025-04-09 23:16:03 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-09 23:16:04 [PositionControllerS1] INFO: S1 Levels Updated: High=686.0400, Low=507.0000
2025-04-09 23:16:04 [GridTrader] INFO: 价格检查 | 当前: 563.39 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:16:04 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:16:04 [GridTrader] INFO: 卖出监测 | 当前价: 563.39 | 触发价(动态): 563.27732 | 最高价: 563.39
2025-04-09 23:16:04 [GridTrader] INFO: 卖出条件检查 | 当前价: 563.39 | 最高价: 563.39 | 动态触发价: 563.27732 | 条件满足: 否
2025-04-09 23:16:04 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:16:04 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:16:04 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:16:06 [ExchangeClient] INFO: 理财账户余额: {'BNB': 0.22443688, 'USDT': 196.8171958}
2025-04-09 23:16:13 [GridTrader] INFO: 价格检查 | 当前: 563.16 | 上轨: 551.51 | 下轨: 529.89 | 基准: 540.70
2025-04-09 23:16:13 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:16:13 [GridTrader] INFO: 卖出条件检查 | 当前价: 563.16 | 最高价: 563.39 | 动态触发价: 563.27732 | 条件满足: 是
2025-04-09 23:16:13 [GridTrader] INFO: 触发卖出信号 | 当前价: 563.16 | 目标价: 563.27732 | 最高价: 563.39 | 已下跌: 0.04%
2025-04-09 23:16:13 [GridTrader] INFO: 开始检查卖出余额
2025-04-09 23:16:13 [GridTrader] INFO: BNB可用余额: 0.22482024
2025-04-09 23:16:13 [GridTrader] INFO: 卖出最低数量: 0.03551389 BNB (含5%余量: 0.03728958)
2025-04-09 23:16:13 [GridTrader] INFO: 余额检查通过: 可卖出 0.22482024 BNB
2025-04-09 23:16:13 [GridTrader] INFO: 卖出信号检查结果: 满足条件，即将执行卖出
2025-04-09 23:16:13 [GridTrader] INFO: 开始执行sell单 | 当前价格: 563.16
2025-04-09 23:16:14 [GridTrader] INFO: 订单价格确定: 563.15 | 类型: sell
2025-04-09 23:16:14 [GridTrader] INFO: 目标订单金额计算 | 总资产: 785.13 USDT | 计算金额 (10%): 78.51 USDT
2025-04-09 23:16:14 [GridTrader] INFO: 计算交易数量: 0.139 BNB | 金额: 78.51 USDT
2025-04-09 23:16:14 [GridTrader] INFO: 开始检查卖出余额
2025-04-09 23:16:14 [GridTrader] INFO: BNB可用余额: 0.22482024
2025-04-09 23:16:14 [GridTrader] INFO: 卖出最低数量: 0.03551389 BNB (含5%余量: 0.03728958)
2025-04-09 23:16:14 [GridTrader] INFO: 余额检查通过: 可卖出 0.22482024 BNB
2025-04-09 23:16:14 [GridTrader] INFO: 尝试第 1/10 次 sell 单 | 价格: 563.15 | 金额: 78.51 USDT | 数量: 0.13900000 BNB
2025-04-09 23:16:14 [GridTrader] INFO: 准备下单 | 方向: sell | 价格: 563.15 | 数量: 0.139
2025-04-09 23:16:14 [GridTrader] INFO: BNB可用余额: 0.213579 | 所需: 0.139000
2025-04-09 23:16:14 [GridTrader] INFO: 正在执行下单 | 交易对: BNB/USDT | 类型: sell | 价格: 563.15 | 数量: 0.139
2025-04-09 23:16:14 [ExchangeClient] INFO: 时间同步完成 | 时差: -3081ms
2025-04-09 23:16:15 [GridTrader] INFO: 下单完成 | 订单ID: 7839486424 | 耗时: 0.990秒
2025-04-09 23:16:15 [OrderTracker] INFO: 订单已添加到跟踪器 | ID: 7839486424 | 状态: closed
2025-04-09 23:16:15 [GridTrader] INFO: 订单已提交，等待 3 秒后检查状态
2025-04-09 23:16:18 [GridTrader] INFO: 订单已成交 | ID: 7839486424
2025-04-09 23:16:18 [OrderTracker] INFO: 添加交易记录: {'timestamp': 1744211778.790326, 'side': 'sell', 'price': 563.15, 'amount': 0.139, 'order_id': '7839486424'}
2025-04-09 23:16:18 [OrderTracker] INFO: 交易历史备份成功
2025-04-09 23:16:19 [GridTrader] INFO: 更新总资产: 785.14 USDT
2025-04-09 23:16:19 [GridTrader] INFO: 基准价已更新: 563.15
2025-04-09 23:16:19 [root] INFO: 正在发送推送通知: 交易成功通知
2025-04-09 23:16:19 [root] INFO: 消息推送成功: 
🔴 卖出 BNB/USDT
━━━━━━━━━━━━━━━━━━━━
💰 价格：563.15 USDT
📊 数量：0.1390 BNB
💵 金额：78.28 USDT
📈 网格：2.0%
🔄 尝试：1/10次
⏰ 时间：2025-04-09 23:16:19
2025-04-09 23:16:19 [GridTrader] INFO: 资金转移检查 | 总资产: 785.13 USDT | 目标USDT持有: 125.62 | 现货USDT: 125.62 | 目标BNB持有(等值): 125.62 USDT (0.2230 BNB) | 现货BNB: 0.2248
2025-04-09 23:16:19 [GridTrader] INFO: BNB超出部分 (0.0018) 低于最小申购额 0.01 BNB，不执行划转
2025-04-09 23:16:19 [GridTrader] INFO: 无需转移资金到理财账户
2025-04-09 23:16:25 [GridTrader] INFO: 价格检查 | 当前: 563.08 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:16:25 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:16:25 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:16:25 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:16:25 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:16:32 [GridTrader] INFO: 价格检查 | 当前: 563.08 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:16:32 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:16:32 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:16:32 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:16:32 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:16:39 [GridTrader] INFO: 价格检查 | 当前: 563.10 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:16:39 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:16:39 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:16:39 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:16:39 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:16:41 [AdvancedRiskManager] INFO: 风控检查 | 当前仓位比例: 27.16% | 最大允许比例: 90.00% | 最小底仓比例: 10.00%
2025-04-09 23:16:48 [GridTrader] INFO: 价格检查 | 当前: 563.22 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:16:48 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:16:48 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:16:48 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:16:48 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:16:55 [GridTrader] INFO: 价格检查 | 当前: 563.18 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:16:55 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:16:55 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:16:55 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:16:55 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:17:02 [GridTrader] INFO: 价格检查 | 当前: 562.98 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:17:02 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:17:02 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:17:02 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:17:02 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:17:09 [GridTrader] INFO: 价格检查 | 当前: 563.04 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:17:09 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:17:09 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:17:09 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:17:09 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:17:20 [GridTrader] INFO: 价格检查 | 当前: 563.04 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:17:20 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:17:20 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:17:20 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:17:20 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:17:27 [GridTrader] INFO: 价格检查 | 当前: 563.11 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:17:27 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:17:27 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:17:27 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:17:27 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:17:34 [GridTrader] INFO: 价格检查 | 当前: 563.16 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:17:34 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:17:34 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:17:34 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:17:34 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:17:42 [GridTrader] INFO: 价格检查 | 当前: 563.26 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:17:42 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:17:42 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:17:42 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:17:42 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:17:53 [GridTrader] INFO: 价格检查 | 当前: 563.27 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:17:53 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:17:53 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:17:53 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:17:53 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:00 [GridTrader] INFO: 价格检查 | 当前: 563.23 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:00 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:00 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:00 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:00 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:07 [GridTrader] INFO: 价格检查 | 当前: 562.96 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:07 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:07 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:07 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:07 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:16 [GridTrader] INFO: 价格检查 | 当前: 563.05 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:16 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:16 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:16 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:16 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:25 [GridTrader] INFO: 价格检查 | 当前: 562.99 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:25 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:25 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:25 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:25 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:32 [GridTrader] INFO: 价格检查 | 当前: 563.14 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:32 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:32 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:32 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:32 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:39 [GridTrader] INFO: 价格检查 | 当前: 563.25 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:39 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:39 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:39 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:39 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:47 [GridTrader] INFO: 价格检查 | 当前: 563.28 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:47 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:47 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:47 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:47 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:18:57 [GridTrader] INFO: 价格检查 | 当前: 563.21 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:18:57 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:18:57 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:18:57 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:18:57 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:04 [GridTrader] INFO: 价格检查 | 当前: 563.21 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:04 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:04 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:04 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:04 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:11 [GridTrader] INFO: 价格检查 | 当前: 563.17 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:11 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:11 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:11 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:11 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:18 [GridTrader] INFO: 价格检查 | 当前: 563.04 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:18 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:18 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:18 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:18 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:28 [GridTrader] INFO: 价格检查 | 当前: 563.21 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:28 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:28 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:28 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:28 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:35 [GridTrader] INFO: 价格检查 | 当前: 563.16 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:35 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:35 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:35 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:35 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:42 [GridTrader] INFO: 价格检查 | 当前: 563.02 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:42 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:42 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:42 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:42 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:50 [GridTrader] INFO: 价格检查 | 当前: 563.10 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:50 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:50 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:50 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:50 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:19:59 [GridTrader] INFO: 价格检查 | 当前: 563.04 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:19:59 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:19:59 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:19:59 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:19:59 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:20:06 [GridTrader] INFO: 价格检查 | 当前: 563.09 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:20:06 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:20:06 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:20:06 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:20:06 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:20:13 [GridTrader] INFO: 价格检查 | 当前: 563.16 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:20:13 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:20:13 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:20:13 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:20:13 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:20:21 [GridTrader] INFO: 价格检查 | 当前: 563.03 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:20:21 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:20:21 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:20:21 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:20:21 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:20:31 [GridTrader] INFO: 价格检查 | 当前: 563.05 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:20:31 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:20:31 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:20:31 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:20:31 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:20:38 [GridTrader] INFO: 价格检查 | 当前: 563.14 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:20:38 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:20:38 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:20:38 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:20:38 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:20:45 [GridTrader] INFO: 价格检查 | 当前: 563.13 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:20:45 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:20:45 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:20:45 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:20:45 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:20:52 [GridTrader] INFO: 价格检查 | 当前: 562.98 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:20:52 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:20:52 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:20:52 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:20:52 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:21:02 [GridTrader] INFO: 价格检查 | 当前: 563.10 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:21:02 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:21:02 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:21:02 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:21:02 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:21:09 [GridTrader] INFO: 价格检查 | 当前: 563.46 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:21:09 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:21:09 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:21:09 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:21:09 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:21:16 [GridTrader] INFO: 价格检查 | 当前: 563.52 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:21:16 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:21:16 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:21:16 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:21:16 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:21:24 [GridTrader] INFO: 价格检查 | 当前: 563.51 | 上轨: 574.41 | 下轨: 551.89 | 基准: 563.15
2025-04-09 23:21:24 [GridTrader] INFO: 开始检查卖出信号...
2025-04-09 23:21:24 [GridTrader] INFO: 卖出信号检查结果: 不满足条件
2025-04-09 23:21:24 [GridTrader] INFO: 开始检查买入信号...
2025-04-09 23:21:24 [GridTrader] INFO: 买入信号检查结果: 不满足条件
2025-04-09 23:21:33 [ExchangeClient] INFO: 交易所连接已安全关闭
2025-04-09 23:21:33 [root] INFO: 交易所连接已关闭
2025-04-21 17:50:46 [root] INFO: ==================================================
2025-04-21 17:50:46 [root] INFO: 网格交易系统启动
2025-04-21 17:50:46 [root] INFO: ==================================================
2025-04-21 17:50:46 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 17:50:46 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 17:50:46 [GridTrader] ERROR: 初始资金检查失败: 'MockExchangeClient' object has no attribute 'fetch_funding_balance'
2025-04-21 17:50:46 [GridTrader] ERROR: 初始化失败: 'MockExchangeClient' object has no attribute 'exchange'
2025-04-21 17:50:46 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 17:50:46 [root] ERROR: 启动失败: 'MockExchangeClient' object has no attribute 'exchange'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/main.py", line 71, in main
    await trader.initialize()
  File "/Users/slionx/Program/GridBNB-USDT/trader.py", line 84, in initialize
    self.symbol_info = self.exchange.exchange.market(self.config.SYMBOL)
                       ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'exchange'

2025-04-21 17:50:46 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 17:50:46 [root] INFO: 交易所连接已关闭
2025-04-21 17:54:26 [root] INFO: ==================================================
2025-04-21 17:54:26 [root] INFO: 网格交易系统启动
2025-04-21 17:54:26 [root] INFO: ==================================================
2025-04-21 17:54:26 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 17:54:26 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 17:54:26 [GridTrader] INFO: 总资产: 5000.00 USDT | 现货: 5000.00 USDT (BNB: 0.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 17:54:26 [GridTrader] INFO: 发现可划转USDT: 4200.0
2025-04-21 17:54:26 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 17:54:26 [GridTrader] INFO: 从理财赎回BNB: 3.256003256003256
2025-04-21 17:54:26 [GridTrader] ERROR: 从理财赎回BNB失败: 'MockExchangeClient' object has no attribute 'transfer_to_spot'
2025-04-21 17:54:26 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 0.0000
2025-04-21 17:54:26 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 17:54:26 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 17:54:26 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 17:54:26 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 17:54:26 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 17:54:26 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 17:54:26 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:54:26 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:54:26 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:54:26 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:54:26 [root] INFO: Web服务已启动:
2025-04-21 17:54:26 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 17:54:26 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 17:54:31 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:54:31 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:54:31 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:54:31 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:54:36 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:54:36 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:54:36 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:54:36 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:54:41 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:54:41 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:54:41 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:54:41 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:54:46 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:54:46 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:54:46 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:54:46 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:54:51 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:54:51 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:54:51 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:54:51 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:54:56 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:54:56 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:54:56 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:54:56 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:55:01 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:55:01 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:55:01 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:55:01 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:55:06 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:55:06 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:55:06 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:55:06 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:55:11 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:55:11 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:55:11 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:55:11 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:55:16 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:55:16 [PositionControllerS1] WARNING: S1: Insufficient daily klines received (1), cannot update levels.
2025-04-21 17:55:16 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:55:16 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:55:21 [root] INFO: 交易所连接已关闭
2025-04-21 17:59:40 [root] INFO: ==================================================
2025-04-21 17:59:40 [root] INFO: 网格交易系统启动
2025-04-21 17:59:40 [root] INFO: ==================================================
2025-04-21 17:59:40 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 17:59:40 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 17:59:40 [GridTrader] INFO: 总资产: 5000.00 USDT | 现货: 5000.00 USDT (BNB: 0.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 17:59:40 [GridTrader] INFO: 发现可划转USDT: 4200.0
2025-04-21 17:59:40 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 17:59:40 [GridTrader] INFO: 从理财赎回BNB: 3.256003256003256
2025-04-21 17:59:40 [GridTrader] ERROR: 从理财赎回BNB失败: 'MockExchangeClient' object has no attribute 'transfer_to_spot'
2025-04-21 17:59:40 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 0.0000
2025-04-21 17:59:40 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 17:59:40 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 17:59:40 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 17:59:40 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 17:59:40 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 17:59:40 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 17:59:40 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 17:59:40 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 17:59:40 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:59:40 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:59:40 [root] INFO: Web服务已启动:
2025-04-21 17:59:40 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 17:59:40 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 17:59:45 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:59:45 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:59:50 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:59:50 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:59:55 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 17:59:55 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 17:59:57 [root] INFO: 交易所连接已关闭
2025-04-21 18:01:12 [root] INFO: ==================================================
2025-04-21 18:01:12 [root] INFO: 网格交易系统启动
2025-04-21 18:01:12 [root] INFO: ==================================================
2025-04-21 18:01:12 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:01:12 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:01:12 [GridTrader] INFO: 总资产: 5000.00 USDT | 现货: 5000.00 USDT (BNB: 0.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:01:12 [GridTrader] INFO: 发现可划转USDT: 4200.0
2025-04-21 18:01:12 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:01:12 [GridTrader] INFO: 从理财赎回BNB: 3.256003256003256
2025-04-21 18:01:12 [GridTrader] ERROR: 从理财赎回BNB失败: 'MockExchangeClient' object has no attribute 'transfer_to_spot'
2025-04-21 18:01:12 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 0.0000
2025-04-21 18:01:12 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:01:12 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:01:12 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:01:12 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:01:12 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:01:12 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:01:12 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:01:12 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:01:12 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:01:12 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:01:12 [root] INFO: Web服务已启动:
2025-04-21 18:01:12 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:01:12 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:01:17 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:01:17 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:01:22 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:01:22 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:01:24 [root] INFO: 交易所连接已关闭
2025-04-21 18:02:43 [root] INFO: ==================================================
2025-04-21 18:02:43 [root] INFO: 网格交易系统启动
2025-04-21 18:02:43 [root] INFO: ==================================================
2025-04-21 18:02:43 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:02:43 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:02:43 [GridTrader] INFO: 总资产: 5000.00 USDT | 现货: 5000.00 USDT (BNB: 0.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:02:43 [GridTrader] INFO: 发现可划转USDT: 4200.0
2025-04-21 18:02:43 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:02:43 [GridTrader] INFO: 从理财赎回BNB: 3.256003256003256
2025-04-21 18:02:43 [GridTrader] ERROR: 从理财赎回BNB失败: 'MockExchangeClient' object has no attribute 'transfer_to_spot'
2025-04-21 18:02:43 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 0.0000
2025-04-21 18:02:43 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:02:43 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:02:43 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:02:43 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:02:43 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:02:43 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:02:43 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:02:43 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:02:43 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:02:43 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:02:43 [root] INFO: Web服务已启动:
2025-04-21 18:02:43 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:02:43 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:02:44 [root] INFO: 交易所连接已关闭
2025-04-21 18:02:47 [root] INFO: ==================================================
2025-04-21 18:02:47 [root] INFO: 网格交易系统启动
2025-04-21 18:02:47 [root] INFO: ==================================================
2025-04-21 18:02:47 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:02:47 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:02:47 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:02:47 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:02:47 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:02:47 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:02:47 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:02:47 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:02:47 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:02:47 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:02:47 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:02:47 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:02:47 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:02:47 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:02:47 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:02:47 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:02:47 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:02:47 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:02:47 [root] INFO: Web服务已启动:
2025-04-21 18:02:47 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:02:47 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:02:52 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:02:52 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:02:57 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:02:57 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:03:02 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:03:02 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:03:05 [root] INFO: 交易所连接已关闭
2025-04-21 18:04:57 [root] INFO: ==================================================
2025-04-21 18:04:57 [root] INFO: 网格交易系统启动
2025-04-21 18:04:57 [root] INFO: ==================================================
2025-04-21 18:04:57 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:04:57 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:04:57 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:04:57 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:04:57 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:04:57 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:04:57 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:04:57 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:04:57 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:04:57 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:04:57 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:04:57 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:04:57 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:04:57 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:04:57 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:04:57 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:04:57 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:04:57 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:04:57 [root] INFO: Web服务已启动:
2025-04-21 18:04:57 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:04:57 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:05:02 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:05:02 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:05:07 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:05:07 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:05:12 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
2025-04-21 18:05:12 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:05:14 [root] INFO: 交易所连接已关闭
2025-04-21 18:07:30 [root] INFO: ==================================================
2025-04-21 18:07:30 [root] INFO: 网格交易系统启动
2025-04-21 18:07:30 [root] INFO: ==================================================
2025-04-21 18:07:30 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:07:30 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:07:30 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:07:30 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:07:30 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:07:30 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:07:30 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:07:30 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:07:30 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:07:30 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:07:30 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:07:30 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:07:30 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:07:30 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:07:30 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:07:30 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:07:30 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
[DEBUG] balance: N/A
Traceback:
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/risk_manager.py", line 56, in _get_position_ratio
    position_value = await self._get_position_value()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/slionx/Program/GridBNB-USDT/risk_manager.py", line 47, in _get_position_value
    float(balance.get('total', {}).get(self.trader.symbol_info['base'], 0)) +
                                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
KeyError: 'base'

2025-04-21 18:07:30 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:07:30 [root] INFO: Web服务已启动:
2025-04-21 18:07:30 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:07:30 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:07:35 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
[DEBUG] balance: N/A
Traceback:
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/risk_manager.py", line 56, in _get_position_ratio
    position_value = await self._get_position_value()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/slionx/Program/GridBNB-USDT/risk_manager.py", line 47, in _get_position_value
    float(balance.get('total', {}).get(self.trader.symbol_info['base'], 0)) +
                                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
KeyError: 'base'

2025-04-21 18:07:35 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:07:37 [root] INFO: 交易所连接已关闭
2025-04-21 18:07:57 [root] INFO: ==================================================
2025-04-21 18:07:57 [root] INFO: 网格交易系统启动
2025-04-21 18:07:57 [root] INFO: ==================================================
2025-04-21 18:07:57 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:07:57 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:07:57 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:07:57 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:07:57 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:07:57 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:07:57 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:07:57 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:07:57 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:07:57 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:07:57 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:07:57 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:07:57 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:07:57 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:07:57 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:07:57 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:07:57 [AdvancedRiskManager] ERROR: 计算仓位比例失败: 'base'
[DEBUG] balance: N/A
Traceback:
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/risk_manager.py", line 56, in _get_position_ratio
    position_value = await self._get_position_value()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/slionx/Program/GridBNB-USDT/risk_manager.py", line 47, in _get_position_value
    float(balance.get('total', {}).get(self.trader.symbol_info['base'], 0)) +
                                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
KeyError: 'base'

2025-04-21 18:07:57 [AdvancedRiskManager] WARNING: 底仓保护触发 | 当前: 0.00%
2025-04-21 18:07:57 [root] INFO: Web服务已启动:
2025-04-21 18:07:57 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:07:57 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:08:01 [root] INFO: 交易所连接已关闭
2025-04-21 18:09:25 [root] INFO: ==================================================
2025-04-21 18:09:25 [root] INFO: 网格交易系统启动
2025-04-21 18:09:25 [root] INFO: ==================================================
2025-04-21 18:09:25 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:09:25 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:09:25 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:09:25 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:09:25 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:09:25 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:09:25 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:09:25 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:09:25 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:09:25 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:09:25 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:09:25 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:09:25 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:09:25 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:09:25 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:09:25 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:09:25 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:09:25 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:09:25 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:09:25 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:09:25 [root] INFO: Web服务已启动:
2025-04-21 18:09:25 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:09:25 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:09:28 [root] INFO: 交易所连接已关闭
2025-04-21 18:10:55 [root] INFO: ==================================================
2025-04-21 18:10:55 [root] INFO: 网格交易系统启动
2025-04-21 18:10:55 [root] INFO: ==================================================
2025-04-21 18:10:55 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:10:55 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:10:55 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:10:55 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:10:55 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:10:55 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:10:55 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:10:55 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:10:55 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:10:55 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:10:55 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:10:55 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:10:55 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:10:55 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:10:55 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:10:55 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:10:55 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:10:55 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:10:55 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:10:55 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:10:55 [root] INFO: Web服务已启动:
2025-04-21 18:10:55 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:10:55 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:11:00 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:00 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:00 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:00 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:05 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:05 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:05 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:05 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:10 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:10 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:10 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:10 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:15 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:15 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:15 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:15 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:20 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:20 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:20 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:20 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:25 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:25 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:25 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:25 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:30 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:30 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:30 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:30 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:35 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:35 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:35 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:35 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:40 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:40 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:40 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:40 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:45 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:45 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:45 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:45 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:50 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:50 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:50 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:50 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:11:55 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:11:55 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:11:55 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:11:55 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:00 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:00 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:00 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:00 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:05 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:05 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:05 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:05 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:10 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:10 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:10 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:10 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:15 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:15 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:15 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:15 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:20 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:20 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:20 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:20 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:25 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:25 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:25 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:25 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:30 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:30 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:30 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:30 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:36 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:36 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:36 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:36 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:41 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:41 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:41 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:41 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:46 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:12:46 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:12:46 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:12:46 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:12:48 [root] INFO: 交易所连接已关闭
2025-04-21 18:16:00 [root] INFO: ==================================================
2025-04-21 18:16:00 [root] INFO: 网格交易系统启动
2025-04-21 18:16:00 [root] INFO: ==================================================
2025-04-21 18:16:00 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:16:00 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:16:00 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:16:00 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:16:00 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:16:00 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:16:00 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:16:00 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:16:00 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:16:00 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:16:00 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:16:00 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:16:00 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:16:00 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:16:00 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:16:00 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:16:00 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:00 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:00 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:00 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:00 [root] INFO: Web服务已启动:
2025-04-21 18:16:00 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:16:00 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:16:05 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:05 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:05 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:05 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:10 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:10 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:10 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:10 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:15 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:15 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:15 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:15 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:20 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:20 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:20 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:20 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:25 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:25 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:25 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:25 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:30 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:30 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:30 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:30 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:35 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:35 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:35 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:35 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:40 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:40 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:40 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:40 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:45 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:45 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:45 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:45 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:50 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:50 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:50 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:50 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:16:55 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:16:55 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:16:55 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:16:55 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:17:00 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:17:00 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:17:00 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:17:00 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:17:05 [root] INFO: 交易所连接已关闭
2025-04-21 18:17:47 [root] INFO: ==================================================
2025-04-21 18:17:47 [root] INFO: 网格交易系统启动
2025-04-21 18:17:47 [root] INFO: ==================================================
2025-04-21 18:17:47 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:17:47 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:17:47 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:17:47 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:17:47 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:17:47 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:17:47 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:17:47 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:17:47 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:17:47 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:17:47 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:17:47 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:17:47 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:17:47 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:17:47 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:17:47 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:17:47 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:17:47 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:17:47 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:17:47 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:17:47 [root] INFO: Web服务已启动:
2025-04-21 18:17:47 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:17:47 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:17:52 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:17:52 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:17:52 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:17:52 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:17:57 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:17:57 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:17:57 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:17:57 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:17:58 [root] INFO: 交易所连接已关闭
2025-04-21 18:18:19 [root] INFO: ==================================================
2025-04-21 18:18:19 [root] INFO: 网格交易系统启动
2025-04-21 18:18:19 [root] INFO: ==================================================
2025-04-21 18:18:19 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:18:19 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:18:19 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:18:19 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:18:19 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:18:19 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:18:19 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:18:19 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:18:19 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:18:19 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:18:19 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:18:19 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:18:19 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:18:19 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:18:19 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:18:19 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:18:19 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:19 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:19 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:19 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:19 [root] INFO: Web服务已启动:
2025-04-21 18:18:19 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:18:19 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:18:24 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:24 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:24 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:24 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:25 [root] INFO: 交易所连接已关闭
2025-04-21 18:18:28 [root] INFO: ==================================================
2025-04-21 18:18:28 [root] INFO: 网格交易系统启动
2025-04-21 18:18:28 [root] INFO: ==================================================
2025-04-21 18:18:28 [PositionControllerS1] INFO: S1 Position Controller initialized. Lookback=52 days, Sell Target=50.0%, Buy Target=70.0%.
2025-04-21 18:18:28 [GridTrader] INFO: 正在加载市场数据...
2025-04-21 18:18:28 [GridTrader] INFO: 总资产: 6228.50 USDT | 现货: 6228.50 USDT (BNB: 5.0000, USDT: 5000.00) | 理财: 0.00 USDT (BNB: 0.0000, USDT: 0.00)
2025-04-21 18:18:28 [GridTrader] INFO: 发现可划转USDT: 4003.44
2025-04-21 18:18:28 [GridTrader] ERROR: 申购USDT到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:18:28 [GridTrader] INFO: 发现可划转BNB: 0.9439967439967436
2025-04-21 18:18:28 [GridTrader] ERROR: 申购BNB到理财失败: 'MockExchangeClient' object has no attribute 'transfer_to_savings'
2025-04-21 18:18:28 [GridTrader] INFO: 资金分配完成
USDT: 5000.00
BNB: 5.0000
2025-04-21 18:18:28 [GridTrader] INFO: 使用实时基准价: 245.7
2025-04-21 18:18:28 [GridTrader] INFO: 初始化完成 | 交易对: BNB/USDT | 基准价: 245.7
2025-04-21 18:18:28 [root] ERROR: 未配置PUSHPLUS_TOKEN，无法发送通知
2025-04-21 18:18:28 [GridTrader] INFO: 市场当前价: 245.7000 | 价差: +0.00%
2025-04-21 18:18:28 [GridTrader] INFO: 正在获取最近10条交易记录...
2025-04-21 18:18:28 [GridTrader] INFO: 未能获取到最新的交易记录，将使用本地历史。
2025-04-21 18:18:28 [PositionControllerS1] INFO: S1: Time to update daily high/low levels...
2025-04-21 18:18:28 [PositionControllerS1] INFO: S1 Levels Updated: High=634.5000, Low=508.0000
2025-04-21 18:18:28 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:28 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:28 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:28 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:28 [root] INFO: Web服务已启动:
2025-04-21 18:18:28 [root] INFO: - 本地访问: http://localhost:58181
2025-04-21 18:18:28 [root] INFO: - 局域网访问: http://0.0.0.0:58181
2025-04-21 18:18:33 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:33 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:33 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:33 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:38 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:38 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:38 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:38 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:43 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:43 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:43 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:43 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:48 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:48 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:48 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:48 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:53 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:53 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:53 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:53 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:18:58 [PositionControllerS1] INFO: S1: Low level breached. Need to BUY 12.74501425 BNB to reach 70% target.
2025-04-21 18:18:58 [PositionControllerS1] INFO: S1: Condition met for BUY adjustment.
2025-04-21 18:18:58 [PositionControllerS1] INFO: S1: Placing BUY order for 12.74500000 BNB at market price (approx 245.7)...
2025-04-21 18:18:58 [PositionControllerS1] ERROR: S1: Failed to execute adjustment order (BUY 12.74501425): 'MockExchangeClient' object has no attribute 'create_market_order'
Traceback (most recent call last):
  File "/Users/slionx/Program/GridBNB-USDT/position_controller_s1.py", line 160, in _execute_s1_adjustment
    order = await self.trader.exchange.create_market_order(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MockExchangeClient' object has no attribute 'create_market_order'
2025-04-21 18:19:01 [root] INFO: 交易所连接已关闭
